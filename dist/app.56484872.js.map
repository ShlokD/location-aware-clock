{"version":3,"sources":["app.js"],"names":["time","document","querySelector","image","padZero","num","isPM","date","Date","getHours","updateTime","hours","textContent","getMinutes","getSeconds","updateImage","src","setAttribute","startApp","setInterval","featuredImageSrc","window","innerWidth","innerHeight","setImage","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","fetch","then","res","json","response","city","toLowerCase","addEventListener"],"mappings":";AAAA,IAAMA,EAAOC,SAASC,cAAc,SAC9BC,EAAQF,SAASC,cAAc,mBAE/BE,EAAU,SAACC,GAASA,OAAAA,GAAO,GAAKA,EAAUA,IAAAA,OAAAA,IAE1CC,EAAO,WAEJC,OADM,IAAIC,MACLC,WAAa,IAGrBC,EAAa,WACXH,IAAAA,EAAO,IAAIC,KACXG,EAAQJ,EAAKE,WACnBT,EAAKY,YAAiBR,GAAAA,OAAAA,EAAQO,GAAUP,KAAAA,OAAAA,EAAQG,EAAKM,cAAiBT,KAAAA,OAAAA,EACpEG,EAAKO,gBAIHC,EAAc,SAACC,GACnBb,EAAMc,aAAa,MAAOD,IAGtBE,EAAW,WACfR,IACAS,YAAYT,EAAY,KAEpBU,IAAAA,EACFC,sCAAAA,OAAAA,OAAOC,WACLD,KAAAA,OAAAA,OAAOE,YAAc,EAAKjB,KAAAA,OAAAA,IAAS,QAAU,OAc3CkB,EAAW,WAAMT,OAAAA,EAAYK,IAC/BK,UAAUC,YACZD,UAAUC,YAAYC,mBAdN,SAACC,GACXC,IAAAA,EAAWD,EAASE,OAAOD,SAC3BE,EAAYH,EAASE,OAAOC,UAClCC,MAA6BH,uBAAAA,OAAAA,EAAYE,KAAAA,OAAAA,EAAzC,gBACGE,KAAK,SAACC,GAAQA,OAAAA,EAAIC,SAClBF,KAAK,SAACG,GACGC,IAAAA,EAASD,EAATC,KACRjB,GAAwBiB,IAAAA,OAAAA,EAAKC,eAC7BvB,EAAYK,MAMoCI,GAEpDA,KAIJH,OAAOkB,iBAAiB,OAAQrB","file":"app.56484872.js","sourceRoot":"..","sourcesContent":["const time = document.querySelector(\"#time\");\r\nconst image = document.querySelector(\"#featured-image\");\r\n\r\nconst padZero = (num) => (num >= 10 ? num : `0${num}`);\r\n\r\nconst isPM = () => {\r\n  const date = new Date();\r\n  return date.getHours() > 12;\r\n};\r\n\r\nconst updateTime = () => {\r\n  const date = new Date();\r\n  const hours = date.getHours();\r\n  time.textContent = `${padZero(hours)}:${padZero(date.getMinutes())}:${padZero(\r\n    date.getSeconds()\r\n  )}`;\r\n};\r\n\r\nconst updateImage = (src) => {\r\n  image.setAttribute(\"src\", src);\r\n};\r\n\r\nconst startApp = () => {\r\n  updateTime();\r\n  setInterval(updateTime, 1000);\r\n\r\n  let featuredImageSrc = `https://source.unsplash.com/random/${\r\n    window.innerWidth\r\n  }x${window.innerHeight - 4}?${isPM() ? \"night\" : \"day\"}`;\r\n\r\n  const onSuccess = (position) => {\r\n    const latitude = position.coords.latitude;\r\n    const longitude = position.coords.longitude;\r\n    fetch(`https://geocode.xyz/${latitude},${longitude}?geoit=json`)\r\n      .then((res) => res.json())\r\n      .then((response) => {\r\n        const { city } = response;\r\n        featuredImageSrc += `,${city.toLowerCase()}`;\r\n        updateImage(featuredImageSrc);\r\n      });\r\n  };\r\n\r\n  const setImage = () => updateImage(featuredImageSrc);\r\n  if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(onSuccess, setImage);\r\n  } else {\r\n    setImage();\r\n  }\r\n};\r\n\r\nwindow.addEventListener(\"load\", startApp);\r\n"]}